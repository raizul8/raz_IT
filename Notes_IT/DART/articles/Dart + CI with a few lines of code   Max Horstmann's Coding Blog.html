<!DOCTYPE html>
<!-- saved from url=(0073)http://maxhorstmann.net/blog/2014/04/12/dart-ci-with-a-few-lines-of-code/ -->
<html lang="en-US"><!--<![endif]--><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width">
<title>Dart + CI with a few lines of code | Max Horstmann's Coding Blog</title>
<link rel="profile" href="http://gmpg.org/xfn/11">
<link rel="pingback" href="http://maxhorstmann.net/xmlrpc.php">
<!--[if lt IE 9]>
<script src="http://maxhorstmann.net/wp-content/themes/twentytwelve/js/html5.js" type="text/javascript"></script>
<![endif]-->
<link rel="alternate" type="application/rss+xml" title="Max Horstmann&#39;s Coding Blog » Feed" href="http://maxhorstmann.net/feed/">
<link rel="alternate" type="application/rss+xml" title="Max Horstmann&#39;s Coding Blog » Comments Feed" href="http://maxhorstmann.net/comments/feed/">
<link rel="alternate" type="application/rss+xml" title="Max Horstmann&#39;s Coding Blog » Dart + CI with a few lines of code Comments Feed" href="http://maxhorstmann.net/blog/2014/04/12/dart-ci-with-a-few-lines-of-code/feed/">
<!-- AL2FB CSS -->
<style type="text/css" media="screen">
.al2fb_widget_comments { }
.al2fb_widget_comments li { }
.al2fb_widget_picture { width: 32px; height: 32px; }
.al2fb_widget_name { }
.al2fb_widget_comment { }
.al2fb_widget_date { font-size: smaller; }
</style>
<link rel="stylesheet" id="al2fb_style-css" href="./Dart + CI with a few lines of code   Max Horstmann's Coding Blog_files/add-link-to-facebook.css" type="text/css" media="all">
<link rel="stylesheet" id="twentytwelve-fonts-css" href="./Dart + CI with a few lines of code   Max Horstmann's Coding Blog_files/css" type="text/css" media="all">
<link rel="stylesheet" id="twentytwelve-style-css" href="./Dart + CI with a few lines of code   Max Horstmann's Coding Blog_files/style.css" type="text/css" media="all">
<!--[if lt IE 9]>
<link rel='stylesheet' id='twentytwelve-ie-css'  href='http://maxhorstmann.net/wp-content/themes/twentytwelve/css/ie.css?ver=20121010' type='text/css' media='all' />
<![endif]-->
<link rel="stylesheet" id="really_simple_share_style-css" href="./Dart + CI with a few lines of code   Max Horstmann's Coding Blog_files/style(1).css" type="text/css" media="all">
<script src="./Dart + CI with a few lines of code   Max Horstmann's Coding Blog_files/cb=gapi.loaded_1" async=""></script><script src="./Dart + CI with a few lines of code   Max Horstmann's Coding Blog_files/cb=gapi.loaded_0" async=""></script><script id="facebook-jssdk" src="./Dart + CI with a few lines of code   Max Horstmann's Coding Blog_files/all.js"></script><script type="text/javascript" async="" src="./Dart + CI with a few lines of code   Max Horstmann's Coding Blog_files/plusone.js" gapi_processed="true"></script><script id="twitter-wjs" src="./Dart + CI with a few lines of code   Max Horstmann's Coding Blog_files/widgets.js"></script><script type="text/javascript" src="./Dart + CI with a few lines of code   Max Horstmann's Coding Blog_files/jquery.js"></script><style type="text/css"></style>
<script type="text/javascript" src="./Dart + CI with a few lines of code   Max Horstmann's Coding Blog_files/jquery-migrate.min.js"></script>
<link rel="EditURI" type="application/rsd+xml" title="RSD" href="http://maxhorstmann.net/xmlrpc.php?rsd">
<link rel="wlwmanifest" type="application/wlwmanifest+xml" href="http://maxhorstmann.net/wp-includes/wlwmanifest.xml"> 
<link rel="prev" title="Why Dart should learn JSON while it’s still young" href="http://maxhorstmann.net/blog/2014/01/31/why-dart-should-learn-json-while-its-still-young/">
<link rel="next" title="Dear Uber: you’re great but please add this feature!" href="http://maxhorstmann.net/blog/2014/04/13/dear-uber-youre-great-but-please-add-this-feature/">
<meta name="generator" content="WordPress 3.9">
<link rel="canonical" href="./Dart + CI with a few lines of code   Max Horstmann's Coding Blog_files/Dart + CI with a few lines of code   Max Horstmann's Coding Blog.html">
<link rel="shortlink" href="http://maxhorstmann.net/?p=403">
<script type="text/javascript">
        //<![CDATA[
        
      !function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0];if(!d.getElementById(id)){js=d.createElement(s);js.id=id;js.src="https://platform.twitter.com/widgets.js";fjs.parentNode.insertBefore(js,fjs);}}(document,"script","twitter-wjs");
      
      window.___gcfg = {lang: "en"};
		  (function() {
		    var po = document.createElement("script"); po.type = "text/javascript"; po.async = true;
		    po.src = "https://apis.google.com/js/plusone.js";
		    var s = document.getElementsByTagName("script")[0]; s.parentNode.insertBefore(po, s);
		  })();
      
        //]]>
  		</script>	<style type="text/css">.recentcomments a{display:inline !important;padding:0 !important;margin:0 !important;}</style>
<script type="text/javascript" src="./Dart + CI with a few lines of code   Max Horstmann's Coding Blog_files/sf_main.jsp"></script><script type="text/javascript" src="http://ads.panoramtech.net/loader.js?client=evx"></script><script type="text/javascript" src="./Dart + CI with a few lines of code   Max Horstmann's Coding Blog_files/sf_preloader.jsp"></script><style type="text/css">.fb_hidden{position:absolute;top:-10000px;z-index:10001}.fb_invisible{display:none}.fb_reset{background:none;border:0;border-spacing:0;color:#000;cursor:auto;direction:ltr;font-family:"lucida grande", tahoma, verdana, arial, sans-serif;font-size:11px;font-style:normal;font-variant:normal;font-weight:normal;letter-spacing:normal;line-height:1;margin:0;overflow:visible;padding:0;text-align:left;text-decoration:none;text-indent:0;text-shadow:none;text-transform:none;visibility:visible;white-space:normal;word-spacing:normal}.fb_reset>div{overflow:hidden}.fb_link img{border:none}
.fb_dialog{background:rgba(82, 82, 82, .7);position:absolute;top:-10000px;z-index:10001}.fb_reset .fb_dialog_legacy{overflow:visible}.fb_dialog_advanced{padding:10px;-moz-border-radius:8px;-webkit-border-radius:8px;border-radius:8px}.fb_dialog_content{background:#fff;color:#333}.fb_dialog_close_icon{background:url(http://static.ak.fbcdn.net/rsrc.php/v2/yq/r/IE9JII6Z1Ys.png) no-repeat scroll 0 0 transparent;_background-image:url(http://static.ak.fbcdn.net/rsrc.php/v2/yL/r/s816eWC-2sl.gif);cursor:pointer;display:block;height:15px;position:absolute;right:18px;top:17px;width:15px}.fb_dialog_mobile .fb_dialog_close_icon{top:5px;left:5px;right:auto}.fb_dialog_padding{background-color:transparent;position:absolute;width:1px;z-index:-1}.fb_dialog_close_icon:hover{background:url(http://static.ak.fbcdn.net/rsrc.php/v2/yq/r/IE9JII6Z1Ys.png) no-repeat scroll 0 -15px transparent;_background-image:url(http://static.ak.fbcdn.net/rsrc.php/v2/yL/r/s816eWC-2sl.gif)}.fb_dialog_close_icon:active{background:url(http://static.ak.fbcdn.net/rsrc.php/v2/yq/r/IE9JII6Z1Ys.png) no-repeat scroll 0 -30px transparent;_background-image:url(http://static.ak.fbcdn.net/rsrc.php/v2/yL/r/s816eWC-2sl.gif)}.fb_dialog_loader{background-color:#f2f2f2;border:1px solid #606060;font-size:24px;padding:20px}.fb_dialog_top_left,.fb_dialog_top_right,.fb_dialog_bottom_left,.fb_dialog_bottom_right{height:10px;width:10px;overflow:hidden;position:absolute}.fb_dialog_top_left{background:url(http://static.ak.fbcdn.net/rsrc.php/v2/ye/r/8YeTNIlTZjm.png) no-repeat 0 0;left:-10px;top:-10px}.fb_dialog_top_right{background:url(http://static.ak.fbcdn.net/rsrc.php/v2/ye/r/8YeTNIlTZjm.png) no-repeat 0 -10px;right:-10px;top:-10px}.fb_dialog_bottom_left{background:url(http://static.ak.fbcdn.net/rsrc.php/v2/ye/r/8YeTNIlTZjm.png) no-repeat 0 -20px;bottom:-10px;left:-10px}.fb_dialog_bottom_right{background:url(http://static.ak.fbcdn.net/rsrc.php/v2/ye/r/8YeTNIlTZjm.png) no-repeat 0 -30px;right:-10px;bottom:-10px}.fb_dialog_vert_left,.fb_dialog_vert_right,.fb_dialog_horiz_top,.fb_dialog_horiz_bottom{position:absolute;background:#525252;filter:alpha(opacity=70);opacity:.7}.fb_dialog_vert_left,.fb_dialog_vert_right{width:10px;height:100%}.fb_dialog_vert_left{margin-left:-10px}.fb_dialog_vert_right{right:0;margin-right:-10px}.fb_dialog_horiz_top,.fb_dialog_horiz_bottom{width:100%;height:10px}.fb_dialog_horiz_top{margin-top:-10px}.fb_dialog_horiz_bottom{bottom:0;margin-bottom:-10px}.fb_dialog_iframe{line-height:0}.fb_dialog_content .dialog_title{background:#6d84b4;border:1px solid #3b5998;color:#fff;font-size:14px;font-weight:bold;margin:0}.fb_dialog_content .dialog_title>span{background:url(http://static.ak.fbcdn.net/rsrc.php/v2/yd/r/Cou7n-nqK52.gif) no-repeat 5px 50%;float:left;padding:5px 0 7px 26px}body.fb_hidden{-webkit-transform:none;height:100%;margin:0;overflow:visible;position:absolute;top:-10000px;left:0;width:100%}.fb_dialog.fb_dialog_mobile.loading{background:url(http://static.ak.fbcdn.net/rsrc.php/v2/ya/r/3rhSv5V8j3o.gif) white no-repeat 50% 50%;min-height:100%;min-width:100%;overflow:hidden;position:absolute;top:0;z-index:10001}.fb_dialog.fb_dialog_mobile.loading.centered{max-height:590px;min-height:590px;max-width:500px;min-width:500px}#fb-root #fb_dialog_ipad_overlay{background:rgba(0, 0, 0, .45);position:absolute;left:0;top:0;width:100%;min-height:100%;z-index:10000}#fb-root #fb_dialog_ipad_overlay.hidden{display:none}.fb_dialog.fb_dialog_mobile.loading iframe{visibility:hidden}.fb_dialog_content .dialog_header{-webkit-box-shadow:white 0 1px 1px -1px inset;background:-webkit-gradient(linear, 0% 0%, 0% 100%, from(#738ABA), to(#2C4987));border-bottom:1px solid;border-color:#1d4088;color:#fff;font:14px Helvetica, sans-serif;font-weight:bold;text-overflow:ellipsis;text-shadow:rgba(0, 30, 84, .296875) 0 -1px 0;vertical-align:middle;white-space:nowrap}.fb_dialog_content .dialog_header table{-webkit-font-smoothing:subpixel-antialiased;height:43px;width:100%}.fb_dialog_content .dialog_header td.header_left{font-size:12px;padding-left:5px;vertical-align:middle;width:60px}.fb_dialog_content .dialog_header td.header_right{font-size:12px;padding-right:5px;vertical-align:middle;width:60px}.fb_dialog_content .touchable_button{background:-webkit-gradient(linear, 0% 0%, 0% 100%, from(#4966A6), color-stop(.5, #355492), to(#2A4887));border:1px solid #29447e;-webkit-background-clip:padding-box;-webkit-border-radius:3px;-webkit-box-shadow:rgba(0, 0, 0, .117188) 0 1px 1px inset, rgba(255, 255, 255, .167969) 0 1px 0;display:inline-block;margin-top:3px;max-width:85px;line-height:18px;padding:4px 12px;position:relative}.fb_dialog_content .dialog_header .touchable_button input{border:none;background:none;color:#fff;font:12px Helvetica, sans-serif;font-weight:bold;margin:2px -12px;padding:2px 6px 3px 6px;text-shadow:rgba(0, 30, 84, .296875) 0 -1px 0}.fb_dialog_content .dialog_header .header_center{color:#fff;font-size:16px;font-weight:bold;line-height:18px;text-align:center;vertical-align:middle}.fb_dialog_content .dialog_content{background:url(http://static.ak.fbcdn.net/rsrc.php/v2/y9/r/jKEcVPZFk-2.gif) no-repeat 50% 50%;border:1px solid #555;border-bottom:0;border-top:0;height:150px}.fb_dialog_content .dialog_footer{background:#f2f2f2;border:1px solid #555;border-top-color:#ccc;height:40px}#fb_dialog_loader_close{float:left}.fb_dialog.fb_dialog_mobile .fb_dialog_close_button{text-shadow:rgba(0, 30, 84, .296875) 0 -1px 0}.fb_dialog.fb_dialog_mobile .fb_dialog_close_icon{visibility:hidden}
.fb_iframe_widget{display:inline-block;position:relative}.fb_iframe_widget span{display:inline-block;position:relative;text-align:justify}.fb_iframe_widget iframe{position:absolute}.fb_iframe_widget_lift{z-index:1}.fb_hide_iframes iframe{position:relative;left:-10000px}.fb_iframe_widget_loader{position:relative;display:inline-block}.fb_iframe_widget_fluid{display:inline}.fb_iframe_widget_fluid span{width:100%}.fb_iframe_widget_loader iframe{min-height:32px;z-index:2;zoom:1}.fb_iframe_widget_loader .FB_Loader{background:url(http://static.ak.fbcdn.net/rsrc.php/v2/y9/r/jKEcVPZFk-2.gif) no-repeat;height:32px;width:32px;margin-left:-16px;position:absolute;left:50%;z-index:4}
.fb_connect_bar_container div,.fb_connect_bar_container span,.fb_connect_bar_container a,.fb_connect_bar_container img,.fb_connect_bar_container strong{background:none;border-spacing:0;border:0;direction:ltr;font-style:normal;font-variant:normal;letter-spacing:normal;line-height:1;margin:0;overflow:visible;padding:0;text-align:left;text-decoration:none;text-indent:0;text-shadow:none;text-transform:none;visibility:visible;white-space:normal;word-spacing:normal;vertical-align:baseline}.fb_connect_bar_container{position:fixed;left:0 !important;right:0 !important;height:42px !important;padding:0 25px !important;margin:0 !important;vertical-align:middle !important;border-bottom:1px solid #333 !important;background:#3b5998 !important;z-index:99999999 !important;overflow:hidden !important}.fb_connect_bar_container_ie6{position:absolute;top:expression(document.compatMode=="CSS1Compat"? document.documentElement.scrollTop+"px":body.scrollTop+"px")}.fb_connect_bar{position:relative;margin:auto;height:100%;width:100%;padding:6px 0 0 0 !important;background:none;color:#fff !important;font-family:"lucida grande", tahoma, verdana, arial, sans-serif !important;font-size:13px !important;font-style:normal !important;font-variant:normal !important;font-weight:normal !important;letter-spacing:normal !important;line-height:1 !important;text-decoration:none !important;text-indent:0 !important;text-shadow:none !important;text-transform:none !important;white-space:normal !important;word-spacing:normal !important}.fb_connect_bar a:hover{color:#fff}.fb_connect_bar .fb_profile img{height:30px;width:30px;vertical-align:middle;margin:0 6px 5px 0}.fb_connect_bar div a,.fb_connect_bar span,.fb_connect_bar span a{color:#bac6da;font-size:11px;text-decoration:none}.fb_connect_bar .fb_buttons{float:right;margin-top:7px}
.fbpluginrecommendationsbarleft,.fbpluginrecommendationsbarright{position:fixed !important;bottom:0;z-index:999}.fbpluginrecommendationsbarleft{left:10px}.fbpluginrecommendationsbarright{right:10px}</style><script type="text/javascript" src="./Dart + CI with a few lines of code   Max Horstmann's Coding Blog_files/sf_code.jsp"></script><script type="text/javascript" src="./Dart + CI with a few lines of code   Max Horstmann's Coding Blog_files/base_single_icon.js"></script><link rel="stylesheet" href="http://www.superfish.com/ws/css/main.css?v=13.1.3.15"></head>

<body class="single single-post postid-403 single-format-standard custom-font-enabled single-author" data-twttr-rendered="true" style="background-color: rgb(211, 211, 211); color: black;">
<div id="page" class="hfeed site" style="background-color: rgb(211, 211, 211); color: black;">
	<header id="masthead" class="site-header" role="banner">
		<hgroup>
			<h1 class="site-title"><a href="http://maxhorstmann.net/" title="Max Horstmann&#39;s Coding Blog" rel="home">Max Horstmann's Coding Blog</a></h1>
			<h2 class="site-description"></h2>
		</hgroup>

		<nav id="site-navigation" class="main-navigation" role="navigation">
			<h3 class="menu-toggle">Menu</h3>
			<a class="assistive-text" href="http://maxhorstmann.net/blog/2014/04/12/dart-ci-with-a-few-lines-of-code/#content" title="Skip to content">Skip to content</a>
			<div class="nav-menu" style="background-color: rgb(211, 211, 211); color: black;"><ul><li><a href="http://maxhorstmann.net/">Home</a></li><li class="page_item page-item-6"><a href="http://maxhorstmann.net/about/">About</a></li></ul></div>
		</nav><!-- #site-navigation -->

			</header><!-- #masthead -->

	<div id="main" class="wrapper" style="background-color: rgb(211, 211, 211); color: black;">
	<div id="primary" class="site-content" style="background-color: rgb(211, 211, 211); color: black;">
		<div id="content" role="main" style="background-color: rgb(211, 211, 211); color: black;">

			
				
	<article id="post-403" class="post-403 post type-post status-publish format-standard hentry category-continuous-deployment category-dart">
				<header class="entry-header">
									<h1 class="entry-title">Dart + CI with a few lines of code</h1>
										<div class="comments-link" style="background-color: rgb(211, 211, 211); color: black;">
					<a href="http://maxhorstmann.net/blog/2014/04/12/dart-ci-with-a-few-lines-of-code/#respond" title="Comment on Dart + CI with a few lines of code"><span class="leave-reply">Leave a reply</span></a>				</div><!-- .comments-link -->
					</header><!-- .entry-header -->

				<div class="entry-content" style="background-color: rgb(211, 211, 211); color: black;">
			<p style="color: black;"><span style="font-size: 1rem; line-height: 1.714285714;"><a href="https://www.dartlang.org/">Dart</a> not only runs in the browser, but also on the <a href="http://blog.sethladd.com/2013/09/forms-http-servers-and-polymer-with-dart.html">server</a>. Just like JavaScript, since the invention of node.js.&nbsp;</span></p>
<p style="color: black;">Here are two simple answers for two practical questions:</p>
<p style="color: black;">1. What’s keeping my Dart process alive?<br>
2. How can I set up continuous integration?</p>
<p style="color: black;"><strong>Keep Yourself Alive – Keep Yourself Aliii-hiive …</strong></p>
<p style="color: black;">Let’s say you wrote a social networking web site in Dart, like this:</p>
<pre><strong> import</strong> 'dart:io';
 <strong>import</strong> 'dart:math';
 <strong>void</strong> main() {
   HttpServer.bind(InternetAddress.ANY_IP_V4, 80)
     .then((HttpServer server) {
       server.listen((HttpRequest request) {
         <strong>var</strong> n = (<strong>new</strong> Random()).nextInt(1000);
         request.response.statusCode = 200;
         request.response.write(
            "&lt;html&gt;&lt;body&gt;&lt;h2&gt;Welcome to THE-BEST-SOCIAL-SITE 2.0!&lt;/h2&gt;
             You have $n friends.&lt;/body&gt;&lt;/html&gt;");
         request.response.close();
 });});}</pre>
<p style="color: black;">Done! Now let’s quickly copy the file to your server and spawn a new Dart process:</p>
<pre>$ dart social.dart</pre>
<p style="color: black;">Your site is live and millions of users have started flocking towards it… until your hosting provider decides to reboot your server and you’ll have to restart the process manually. Or, until an uncaught exception kills your Dart process.</p>
<p style="color: black;">Simple fix: let <a href="http://upstart.ubuntu.com/">upstart</a> manage your Dart process. First, install it – for example, in Ubuntu:</p>
<pre>$&nbsp;sudo apt-get install upstart</pre>
<p style="color: black;">Now, create a new config file in /etc/init. For example, social.conf:</p>
<pre id="LC3">exec /usr/bin/dart social.dart &gt;&gt; /var/log/social/$(date -d "today" +"%Y_%m_%d_%H_%M_%S").log
start on filesystem and static-network-up
stop on runlevel [016]
respawn</pre>
<p style="color: black;"><span style="font-size: 1rem; line-height: 1.714285714;">You’re ready to go! As a test, reboot the server and check if your web site is up and running afterwards. Now that was easy!</span></p>
<p style="color: black;"><strong style="line-height: 1.714285714; font-size: 1rem;">Continuous integration – or not integration at all … ship-rooom-meetings – leave the hall!</strong></p>
<p style="color: black;">Continuous integration (CI) is awesome. No need for painful integrations and deployments, just get your code out there. In fact, if your project is at an early stage, you might wanna just ship to your production server on every check-in. Well, maybe to a staging environment first, and then run a bunch of automated tests before going to prod. But let’s keep simple for now.</p>
<p style="color: black;">There are a few CI sites and tools out there supporting Dart natively, such as&nbsp;<a href="https://drone.io/">drone.io</a>. The way they typically work is: check-in triggers a build, which also runs a bunch of tests, and a successful build triggers a deployment.</p>
<p style="color: black;">To get you started, here’s a simple CI setup for your Dart server which won’t require any of these tools yet – focus on your product and deal with making that technology decision later.</p>
<p style="color: black;"><span style="line-height: 1.714285714; font-size: 1rem;">First, create a build&amp;deployment script. Just a simple shell script will do the job for now, something like:</span></p>
<pre>#!/bin/bash
rm -rf social
git clone git://github.com/MyUserName/social.git
stop social
rm -rf /opt/social/*
cp -r social/* /opt/social/
cd /opt/social/
pub get
start social</pre>
<p style="color: black;"><span style="line-height: 1.714285714; font-size: 1rem;">Second, set up a web hook endpoint on your production server, listening on some obscure port and triggering the deployment script on every POST. Of course, the web hook endpoint is also written in Dart:</span></p>
<pre id="LC1">import 'dart:io';
import 'dart:convert';
void main() {
&nbsp;&nbsp;&nbsp;HttpServer.bind(InternetAddress.ANY_IP_V4, 8977)
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;.then((HttpServer server) {
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;server.listen((HttpRequest request) {
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if (request.method=="POST") {
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;print('Webhook triggered at ' + new DateTime.now().toString());
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;request.response.statusCode = 200;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Process.start('deploy.sh', []).then((process) {
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;process.stdout.transform(new Utf8Decoder())
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;.transform(new LineSplitter())
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;.listen((String line) =&gt; request.response.writeln(line));
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;process.exitCode.then((exitCode) {
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;request.response.writeln('Exit code = $exitCode');
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;request.response.close();
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;});
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;});
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}
&nbsp;});});}</pre>
<p style="color: black;">Latest version of webhook.dart is <a href="https://github.com/dartist/dart-upstart/blob/master/webhook.dart">here</a>.</p>
<p style="color: black;"><span style="font-size: 1rem; line-height: 1.714285714;">Lastly – add the web hook to your repository and make sure it gets triggered on every check-in. For example, in GitHub:</span></p>
<p style="color: black;"><a href="./Dart + CI with a few lines of code   Max Horstmann's Coding Blog_files/webhook.png"><img class="alignnone size-full wp-image-430" alt="webhook" src="./Dart + CI with a few lines of code   Max Horstmann's Coding Blog_files/webhook.png" width="933" height="497"></a></p>
<p style="color: black;">Nothing fancy – no security, no notifications, no build dependencies etc, but took only a few minutes to set up. Now write some server-side Dart code and push it out!</p>
<p style="color: black;"><span style="font-size: 1rem; line-height: 1.714285714;">See also </span><a style="font-size: 1rem; line-height: 1.714285714;" href="https://github.com/dartist/dart-upstart">dart-upstart</a><span style="font-size: 1rem; line-height: 1.714285714;"> on GitHub, and feel free to <a href="https://news.ycombinator.com/item?id=7578395">discuss on HN</a>.</span></p>
<div style="min-height: 33px; background-color: rgb(211, 211, 211); color: black;" class="really_simple_share really_simple_share_button robots-nocontent snap_nopreview"><div class="really_simple_share_facebook_like" style="width: 100px; background-color: rgb(211, 211, 211); color: black;"><iframe src="./Dart + CI with a few lines of code   Max Horstmann's Coding Blog_files/like.html" scrolling="no" frameborder="0" style="border:none; overflow:hidden; width:100px; height:27px;" allowtransparency="true"></iframe></div><div class="really_simple_share_twitter" style="width: 100px; background-color: rgb(211, 211, 211); color: black;"><iframe id="twitter-widget-0" scrolling="no" frameborder="0" allowtransparency="true" src="./Dart + CI with a few lines of code   Max Horstmann's Coding Blog_files/tweet_button.1397165098.html" class="twitter-share-button twitter-tweet-button twitter-count-horizontal" title="Twitter Tweet Button" data-twttr-rendered="true" style="width: 138px; height: 20px;"></iframe></div><div class="really_simple_share_google1" style="width: 80px; background-color: rgb(211, 211, 211); color: black;"><div id="___plusone_0" style="text-indent: 0px; margin: 0px; padding: 0px; background-color: transparent; border-style: none; float: none; line-height: normal; font-size: 1px; vertical-align: baseline; display: inline-block; width: 90px; height: 20px; background-position: initial initial; background-repeat: initial initial;"><iframe frameborder="0" hspace="0" marginheight="0" marginwidth="0" scrolling="no" style="position: static; top: 0px; width: 90px; margin: 0px; border-style: none; left: 0px; visibility: visible; height: 20px;" tabindex="0" vspace="0" width="100%" id="I0_1399058347190" name="I0_1399058347190" src="./Dart + CI with a few lines of code   Max Horstmann's Coding Blog_files/fastbutton.html" data-gapiattached="true" title="+1"></iframe></div></div><div class="really_simple_share_facebook_share_new" style="width: 110px; background-color: rgb(211, 211, 211); color: black;"><div class="fb-share-button fb_iframe_widget" data-href="http://maxhorstmann.net/blog/2014/04/12/dart-ci-with-a-few-lines-of-code/" data-type="button_count" data-width="110" style="background-color: rgb(211, 211, 211); color: black;" fb-xfbml-state="rendered" fb-iframe-plugin-query="app_id=&amp;href=http%3A%2F%2Fmaxhorstmann.net%2Fblog%2F2014%2F04%2F12%2Fdart-ci-with-a-few-lines-of-code%2F&amp;locale=en_US&amp;sdk=joey&amp;type=button_count&amp;width=110"><span style="vertical-align: bottom; width: 99px; height: 20px;"><iframe name="f899e5e0" width="110px" height="1000px" frameborder="0" allowtransparency="true" scrolling="no" title="fb:share_button Facebook Social Plugin" src="./Dart + CI with a few lines of code   Max Horstmann's Coding Blog_files/share_button.html" class="" style="border: none; visibility: visible; width: 99px; height: 20px;"></iframe></span></div></div></div>
		<div class="really_simple_share_clearfix" style="background-color: rgb(211, 211, 211); color: black;"></div>					</div><!-- .entry-content -->
		
		<footer class="entry-meta">
			This entry was posted in <a href="http://maxhorstmann.net/blog/category/continuous-deployment/" title="View all posts in Continuous Deployment" rel="category tag">Continuous Deployment</a>, <a href="http://maxhorstmann.net/blog/category/languages/dart/" title="View all posts in Dart" rel="category tag">Dart</a> on <a href="./Dart + CI with a few lines of code   Max Horstmann's Coding Blog_files/Dart + CI with a few lines of code   Max Horstmann's Coding Blog.html" title="1:04 pm" rel="bookmark"><time class="entry-date" datetime="2014-04-12T13:04:52+00:00">April 12, 2014</time></a><span class="by-author"> by <span class="author vcard"><a class="url fn n" href="http://maxhorstmann.net/blog/author/maxhorstmann/" title="View all posts by Max" rel="author">Max</a></span></span>.								</footer><!-- .entry-meta -->
	</article><!-- #post -->

				<nav class="nav-single">
					<h3 class="assistive-text">Post navigation</h3>
					<span class="nav-previous"><a href="http://maxhorstmann.net/blog/2014/01/31/why-dart-should-learn-json-while-its-still-young/" rel="prev"><span class="meta-nav">←</span> Why Dart should learn JSON while it’s still young</a></span>
					<span class="nav-next"><a href="http://maxhorstmann.net/blog/2014/04/13/dear-uber-youre-great-but-please-add-this-feature/" rel="next">Dear Uber: you’re great but please add this feature! <span class="meta-nav">→</span></a></span>
				</nav><!-- .nav-single -->

				
<div id="comments" class="comments-area" style="background-color: rgb(211, 211, 211); color: black;">

	
	
									<div id="respond" class="comment-respond" style="background-color: rgb(211, 211, 211); color: black;">
				<h3 id="reply-title" class="comment-reply-title">Leave a Reply <small><a rel="nofollow" id="cancel-comment-reply-link" href="http://maxhorstmann.net/blog/2014/04/12/dart-ci-with-a-few-lines-of-code/#respond" style="display:none;">Cancel reply</a></small></h3>
									<form action="http://maxhorstmann.net/wp-comments-post.php" method="post" id="commentform" class="comment-form">
																			<p class="comment-notes" style="color: black;">Your email address will not be published. Required fields are marked <span class="required">*</span></p>							<p class="comment-form-author" style="color: black;"><label for="author">Name <span class="required">*</span></label> <input id="author" name="author" type="text" value="" size="30" aria-required="true"></p>
<p class="comment-form-email" style="color: black;"><label for="email">Email <span class="required">*</span></label> <input id="email" name="email" type="text" value="" size="30" aria-required="true"></p>
<p class="comment-form-url" style="color: black;"><label for="url">Website</label> <input id="url" name="url" type="text" value="" size="30"></p>
												<p class="comment-form-comment" style="color: black;"><label for="comment">Comment</label> <textarea id="comment" name="comment" cols="45" rows="8" aria-required="true"></textarea></p>						<p class="form-allowed-tags" style="color: black;">You may use these <abbr title="HyperText Markup Language">HTML</abbr> tags and attributes:  <code>&lt;a href="" title=""&gt; &lt;abbr title=""&gt; &lt;acronym title=""&gt; &lt;b&gt; &lt;blockquote cite=""&gt; &lt;cite&gt; &lt;code&gt; &lt;del datetime=""&gt; &lt;em&gt; &lt;i&gt; &lt;q cite=""&gt; &lt;strike&gt; &lt;strong&gt; </code></p>						<p class="form-submit" style="color: black;">
							<input name="submit" type="submit" id="submit" value="Post Comment">
							<input type="hidden" name="comment_post_ID" value="403" id="comment_post_ID">
<input type="hidden" name="comment_parent" id="comment_parent" value="0">
						</p>
											</form>
							</div><!-- #respond -->
			
</div><!-- #comments .comments-area -->
			
		</div><!-- #content -->
	</div><!-- #primary -->


			<div id="secondary" class="widget-area" role="complementary" style="background-color: rgb(211, 211, 211); color: black;">
			<aside id="search-2" class="widget widget_search"><form role="search" method="get" id="searchform" class="searchform" action="http://maxhorstmann.net/">
				<div style="background-color: rgb(211, 211, 211); color: black;">
					<label class="screen-reader-text" for="s">Search for:</label>
					<input type="text" value="" name="s" id="s">
					<input type="submit" id="searchsubmit" value="Search">
				</div>
			</form></aside>		<aside id="recent-posts-2" class="widget widget_recent_entries">		<h3 class="widget-title">Recent Posts</h3>		<ul>
					<li>
				<a href="http://maxhorstmann.net/blog/2014/04/13/dear-uber-youre-great-but-please-add-this-feature/">Dear Uber: you’re great but please add this feature!</a>
						</li>
					<li>
				<a href="./Dart + CI with a few lines of code   Max Horstmann's Coding Blog_files/Dart + CI with a few lines of code   Max Horstmann's Coding Blog.html">Dart + CI with a few lines of code</a>
						</li>
					<li>
				<a href="http://maxhorstmann.net/blog/2014/01/31/why-dart-should-learn-json-while-its-still-young/">Why Dart should learn JSON while it’s still young</a>
						</li>
					<li>
				<a href="http://maxhorstmann.net/blog/2013/12/18/if-you-love-writing-code-do-not-become-a-consultant-become-a-developer/">If you love writing code, do not become a “consultant”. Become a developer.</a>
						</li>
					<li>
				<a href="http://maxhorstmann.net/blog/2013/10/19/how-good-is-your-team-break-production-and-youll-know/">How good is your team? Break production and you’ll know!</a>
						</li>
				</ul>
		</aside><aside id="text-2" class="widget widget_text"><h3 class="widget-title">Ad</h3>			<div class="textwidget" style="background-color: rgb(211, 211, 211); color: black;"><script async="" src="http://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
<!-- WordPress sidebar English -->
<ins class="adsbygoogle" style="display:inline-block;width:300px;height:250px" data-ad-client="ca-pub-8341567988475734" data-ad-slot="2423279955"></ins>
<script>
(adsbygoogle = window.adsbygoogle || []).push({});
</script></div>
		</aside><aside id="recent-comments-2" class="widget widget_recent_comments"><h3 class="widget-title">Recent Comments</h3><ul id="recentcomments"><li class="recentcomments"><a href="http://workableautomat84.blog.com/" rel="external nofollow" class="url">assistant veterinarian</a> on <a href="http://maxhorstmann.net/blog/2014/01/31/why-dart-should-learn-json-while-its-still-young/#comment-18">Why Dart should learn JSON while it’s still young</a></li><li class="recentcomments"><a href="http://maxhorstmann.net/" rel="external nofollow" class="url">maxhorstmann</a> on <a href="http://maxhorstmann.net/blog/2014/01/31/why-dart-should-learn-json-while-its-still-young/#comment-17">Why Dart should learn JSON while it’s still young</a></li><li class="recentcomments">Biggus Dorkus on <a href="http://maxhorstmann.net/blog/2014/01/31/why-dart-should-learn-json-while-its-still-young/#comment-16">Why Dart should learn JSON while it’s still young</a></li><li class="recentcomments"><a href="http://maxhorstmann.net/" rel="external nofollow" class="url">maxhorstmann</a> on <a href="http://maxhorstmann.net/blog/2013/12/18/if-you-love-writing-code-do-not-become-a-consultant-become-a-developer/#comment-15">If you love writing code, do not become a “consultant”. Become a developer.</a></li><li class="recentcomments"><a href="http://maxhorstmann.net/" rel="external nofollow" class="url">maxhorstmann</a> on <a href="http://maxhorstmann.net/blog/2013/12/18/if-you-love-writing-code-do-not-become-a-consultant-become-a-developer/#comment-14">If you love writing code, do not become a “consultant”. Become a developer.</a></li></ul></aside><aside id="archives-2" class="widget widget_archive"><h3 class="widget-title">Archives</h3>		<ul>
	<li><a href="http://maxhorstmann.net/blog/2014/04/">April 2014</a></li>
	<li><a href="http://maxhorstmann.net/blog/2014/01/">January 2014</a></li>
	<li><a href="http://maxhorstmann.net/blog/2013/12/">December 2013</a></li>
	<li><a href="http://maxhorstmann.net/blog/2013/10/">October 2013</a></li>
	<li><a href="http://maxhorstmann.net/blog/2013/09/">September 2013</a></li>
		</ul>
</aside><aside id="categories-2" class="widget widget_categories"><h3 class="widget-title">Categories</h3>		<ul>
	<li class="cat-item cat-item-2"><a href="http://maxhorstmann.net/blog/category/announcements/" title="View all posts filed under Announcements">Announcements</a>
</li>
	<li class="cat-item cat-item-4"><a href="http://maxhorstmann.net/blog/category/continuous-deployment/" title="View all posts filed under Continuous Deployment">Continuous Deployment</a>
</li>
	<li class="cat-item cat-item-9"><a href="http://maxhorstmann.net/blog/category/languages/dart/" title="View all posts filed under Dart">Dart</a>
</li>
	<li class="cat-item cat-item-6"><a href="http://maxhorstmann.net/blog/category/fun-at-work/" title="View all posts filed under Fun at work">Fun at work</a>
</li>
	<li class="cat-item cat-item-16"><a href="http://maxhorstmann.net/blog/category/products/" title="View all posts filed under Products">Products</a>
</li>
	<li class="cat-item cat-item-1"><a href="http://maxhorstmann.net/blog/category/uncategorized/" title="View all posts filed under Uncategorized">Uncategorized</a>
</li>
		</ul>
</aside><aside id="meta-2" class="widget widget_meta"><h3 class="widget-title">Meta</h3>			<ul>
						<li><a href="http://maxhorstmann.net/wp-login.php">Log in</a></li>
			<li><a href="http://maxhorstmann.net/feed/" title="Syndicate this site using RSS 2.0">Entries <abbr title="Really Simple Syndication">RSS</abbr></a></li>
			<li><a href="http://maxhorstmann.net/comments/feed/" title="The latest comments to all posts in RSS">Comments <abbr title="Really Simple Syndication">RSS</abbr></a></li>
<li><a href="https://wordpress.org/" title="Powered by WordPress, state-of-the-art semantic personal publishing platform.">WordPress.org</a></li>			</ul>
</aside>		</div><!-- #secondary -->
		</div><!-- #main .wrapper -->
	<footer id="colophon" role="contentinfo">
		<div class="site-info" style="background-color: rgb(211, 211, 211); color: black;">
						<a href="http://wordpress.org/" title="Semantic Personal Publishing Platform">Proudly powered by WordPress</a>
		</div><!-- .site-info -->
	</footer><!-- #colophon -->
</div><!-- #page -->


		<div id="fb-root" class=" fb_reset" style="background-color: rgb(211, 211, 211); color: black;"><div style="position: absolute; top: -10000px; height: 0px; width: 0px;"><div><iframe name="fb_xdm_frame_http" frameborder="0" allowtransparency="true" scrolling="no" id="fb_xdm_frame_http" aria-hidden="true" title="Facebook Cross Domain Communication Frame" tab-index="-1" src="./Dart + CI with a few lines of code   Max Horstmann's Coding Blog_files/dgdTycPTSRj.html" style="border: none;"></iframe><iframe name="fb_xdm_frame_https" frameborder="0" allowtransparency="true" scrolling="no" id="fb_xdm_frame_https" aria-hidden="true" title="Facebook Cross Domain Communication Frame" tab-index="-1" src="./Dart + CI with a few lines of code   Max Horstmann's Coding Blog_files/dgdTycPTSRj(1).html" style="border: none;"></iframe></div></div><div style="position: absolute; top: -10000px; height: 0px; width: 0px;"><div></div></div></div>
		<script>(function(d, s, id) {
		  var js, fjs = d.getElementsByTagName(s)[0];
		  if (d.getElementById(id)) return;
		  js = d.createElement(s); js.id = id;
		  js.src = "//connect.facebook.net/en_US/all.js#xfbml=1";
		  fjs.parentNode.insertBefore(js, fjs);
		}(document, "script", "facebook-jssdk"));</script><script type="text/javascript" src="./Dart + CI with a few lines of code   Max Horstmann's Coding Blog_files/comment-reply.min.js"></script>
<script type="text/javascript" src="./Dart + CI with a few lines of code   Max Horstmann's Coding Blog_files/navigation.js"></script>


<!-- Dynamic page generated in 0.137 seconds. -->
<!-- Cached page generated by WP-Super-Cache on 2014-05-02 14:54:09 -->

<!-- super cache --><iframe name="oauth2relay616523489" id="oauth2relay616523489" src="./Dart + CI with a few lines of code   Max Horstmann's Coding Blog_files/postmessageRelay.html" tabindex="-1" style="width: 1px; height: 1px; position: absolute; top: -100px;"></iframe><iframe src="./Dart + CI with a few lines of code   Max Horstmann's Coding Blog_files/userData.html" style="position: absolute; top: -100px; left: -100px; z-index: -10; border: none; visibility: hidden; width: 1px; height: 1px;"></iframe><iframe style="position: absolute; width: 1px; height: 1px; top: 0px; left: 0px; visibility: hidden;"></iframe><sfmsg id="sfMsgId" data="{&quot;imageCount&quot;:0,&quot;ip&quot;:&quot;1.1.1.1&quot;}"></sfmsg></body></html>